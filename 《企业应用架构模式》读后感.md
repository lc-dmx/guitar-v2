#读后感
      开发一个软件，首先我们根据客户的需求来确定我们使用何种模式（架构），不同的软件有不同的架构，架构其实就是解决问题
    的一种方案，不同的问题有不同的解决方式。没有一种固定的模式。我们经常提到的什么什么模式，那是软件的资深人士，根据自
    己的经验总结出来的一种解决问题的方式，对同一个软件，也许我们需要多个不同的模式共同完成。解决问题永远没有固定的方式，
    如果我们说："总是这样的…"那就很危险了，在设计中最重要的就是选取更加优秀的方式来解决，永远没有“总是这样的“。
    
      软件中提到的最多的就是分层（这里的分层式逻辑上的分层layer）。从开始的2层模型（C/S）客户端包含用户界面和其他的应用
    代码，服务端通常是关系型数据库。如果客户端只是包含很少的数据显示和修改，那么这样的方式是很合适，但随着领域逻辑的复
    杂，在客户端就包含很多逻辑判断的代码。这就是俗称的“胖客户端”，对软件的更新很不方便。面向对象的出现，为复杂的领域逻
    辑找到的出路，三层模型诞生了。表现层实现用户界面，领域层实现领域逻辑、持久层进行数据的存取。随着web的兴起，人们想
    在web浏览器上部署客户/服务端应用，三层模型中表现层为客户提供了一个服务的接口，而持久层使用数据库提供的服务。重要的
    领域逻辑全部放在了中间的领域层，在领域逻辑组织上有三种方式：事物脚本、领域对象、表模块，其中我们经常用到得是事物脚
    本和领域对象的混合使用。在分层中，上层使用下层提供的服务，下层不能使用上层的服务。一层对自己的上层隐藏下层的信息。
    在三层模型中即使领域层对表现层隐藏了持久层的信息，表现层也不知道持久层做了什么工作。  

![](http://ww4.sinaimg.cn/mw690/006h8gUwgw1f49xcuksu3j30f305lt98.jpg)

    事务脚本: 使用过程来组织业务逻辑，每个过程处理来自表现层的单个请求。
    
      个人观点：事务脚本是一系列过程，该过程用来组织业务逻辑.事务脚本方式组织业务逻辑，它没有pojo的概念，数据的表现方式
    一般是结果集，或者简单的数据类型，一般不涉及领域逻辑，适合处理业务逻辑较简单的情形。不涉及领域逻辑不代表不能处理领域
    逻辑，只是一旦领域逻辑变得复杂，事务脚本会产生大量的重复，冗余代码，不利于维护，管理。
    
![](http://ww2.sinaimg.cn/mw690/006h8gUwgw1f49xcu4ublj30hu0bimyk.jpg)

    领域模型： 合并了行为和数据的领域的对象模型.
    
      个人观点： 领域模型主要是处理问题领域逻辑，使用对象图或者网来处理业务逻辑。适用于处理复杂的业务逻辑。它使用pojo来
    包装数据及处理行为，而且将领域相关的职责封装到对象中去，通过不同对象的协作完成业务逻辑。
    
![](http://ww4.sinaimg.cn/mw690/006h8gUwgw1f49xctkavhj30g60d2402.jpg)

    服务层： 通过一个服务层来定义应用程序边界，在服务层中建立一组可用的操作集合，并在每个操作内部协调应用程序的响应。
        
      个人理解： 服务层集成了事务脚本及领域模型的优点，服务层也是一种组织业务逻辑的方式，它主要处理应用逻辑和领域逻辑，
    应用逻辑由服务层显示调用，而领域逻辑主要依赖领域模型来处理。服务层由一组相对复杂的类组成，这些类直接实现应用逻辑，
    但是领域逻辑委托给封装好的领域对象，服务层客户所能使用的操作以脚本的方式实现，数个脚本组成一个类，一个类定义与某一
    个主题相关的逻辑。每一个类组成一个应用程序”服务“，通常服务类型的名字为xxService。

#笔记

##第一章 分层
###分层的好处：
    1.在无需过多了解其他层次的基础上，可以将某一层作为一个有机整体来理解。
    2.可以替换某层的具体实现。
    3.可以将层次间的依赖性减到最低。
    4.有利于标准化工作。
    5.层次不能封装所有东西。
    6.过多的层次会影响性能。
###1.2三个基本层次
    表现层逻辑处理用户与软件间的交互。
    
    领域逻辑，也成业务逻辑。根据输入数据进行计算，对从表现层输入的数据验证等。
    
    数据源逻辑关注与其他系统的交互。最主要的数据源逻辑就是数据库，它的主要责任就是存储持久数据。
##第二章 组织领域逻辑
    领域逻辑的组织可以分为三种主要的模式：事务脚本、领域模型以及表模块。
    
    领域模型的开销来自使用上的复杂性和数据源层的复杂性。除此之外，还需要面对将领域模型映射到数据库的问题。
###2.2服务层
    处理领域逻辑常见的的方法是将领域层再分成两层。
##第八章 通盘考虑
###8.1从领域层开始
    事务脚本模式将每种系统事务的逻辑很好的封装在功能完善的脚本中，而且比较适合与在关系数据库之上构建。主要问题是对复杂业务逻辑支持不够，尤其是不善于处理重复代码。
    
    领域模式在于比较难学习。
###8.2深入到数据源层
####8.2.1事物脚本的数据源
    分离数据库，尽量使领域逻辑和数据源逻辑这两部分的界限划分变得有意义。

    可供选择的数据库模式包括行数据入口和表数据入口。

    在行数据入口中，每个记录都通过显示的接口读入到一个对象中。在表数据入口中，编程接口却是隐式的，这些接口依靠对记录集的访问（类似于映射）。如果所用的平台包含很多支持记录集的工具，特别是UI工具和事务性的断接记录集，则偏向表数据入口。
####8.2.2表模块的数据源
    选择表模块的最主要原因是有一个好的记录集框架。此时就需要一个与记录集配合良好的数据库映射模式。
####8.2.3领域模型的数据源
    使用数据映射器，确保领域模型尽可能与其它各层相互独立。
###8.3表现层
    HTML浏览器方式，建议使用MVC作为设计基础。
    
    关于视图主要有模板视图和转换视图两种选择。
###8.4一些具体建议
####8.4.1java和J2EE
	使用实体bean，尽量避免给他们一个远程接口。
####8.4.3存储过程
	尽量避免使用存储过程。
##第九章 领域逻辑模式
###9.1事务脚本运行机制
    可以采用两种方法来把事务脚本组织成类。一种是将数个事务脚本放在一个类中，每个类围绕一个主题将相关的事务脚本组织在一起。另一种是每一个事务脚本对应一个类，此时需使用命令模式。
###9.2领域模型运行机制
    领域模型混合数据和处理过程，拥有多值属性和复杂的关联网，并且使用继承。领域模型与系统中其它层之间的耦合程度应达到最小。
###9.3表模块运行机制
	表模块允许将数据与行为封装在一起，同时又可以充分利用关系数据库的优点。通常，表模块会与面向表的后端数据结构一起使用。
    
    最常见的表模块例子是对数据库中的每个表使用一个表模块。
###9.4服务层
	服务层定义了应用的边界和从接口客户层角度所能看到的可用操作集。它封装了应用的业务逻辑、事务控制及其操作实现中的想响应协调。

    运行机制：
	1.“业务逻辑”的种类  
    2.实现方法（领域外观方法和操作脚本方法）
    3.是否远程
    4.识别服务与操作
